<!--
    README: ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£ Deploy ‡∏ö‡∏ô GitHub Pages
    1. ‡∏™‡∏£‡πâ‡∏≤‡∏á Repository ‡πÉ‡∏´‡∏°‡πà‡∏ö‡∏ô GitHub (‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô Public)
    2. ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå index.html ‡∏ô‡∏µ‡πâ‡∏•‡∏á‡πÉ‡∏ô Repository
    3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö Settings > Pages ‡∏Ç‡∏≠‡∏á Repository
    4. ‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô Build and deployment, ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Source ‡πÄ‡∏õ‡πá‡∏ô "Deploy from a branch"
    5. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Branch: main ‡πÅ‡∏•‡∏∞ Folder: / (root) ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î Save
    6. ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà GitHub ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏≠‡∏õ‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ô‡∏±‡πâ‡∏ô
-->
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏•‡∏≠‡∏¢‡∏Å‡∏£‡∏∞‡∏ó‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå üåï</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* SECTION: General Styling & Theme */
        :root {
            --water-dark: #011a30;
            --water-light: #003d73;
            --ui-bg: rgba(12, 23, 45, 0.7);
            --text-light: #f0f8ff;
            --text-dark: #0a192f;
            --accent-gold: #ffdf85;
            --glow-color: #ffc400;
            --font-main: 'Sarabun', sans-serif;
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html, body {
            height: 100%;
            overflow: hidden;
            font-family: var(--font-main);
            background-color: var(--water-dark);
        }

        body {
            display: flex;
            flex-direction: column;
            color: var(--text-light);
            position: relative;
        }

        h1, h2 {
            font-weight: 700;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
        }

        /* SECTION: WaterFX & Background */
        #pond {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at 50% 100%, var(--water-light) 0%, var(--water-dark) 60%);
            z-index: 0;
            perspective: 600px;
            filter: url(#water-ripple);
        }

        .pond-decorations {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0; left: 0;
            pointer-events: none;
        }
        
        .pond-decorations::before { /* Moon */
            content: '';
            position: absolute;
            top: 10%;
            left: 15%;
            width: 80px;
            height: 80px;
            background-color: var(--accent-gold);
            border-radius: 50%;
            box-shadow: 0 0 20px 10px rgba(255, 223, 133, 0.3), inset -10px 10px 10px rgba(0,0,0,0.2);
            opacity: 0.9;
        }

        .pond-decorations::after { /* Lantern */
            content: '';
            position: absolute;
            top: 5%;
            right: 10%;
            width: 60px;
            height: 90px;
            background: radial-gradient(circle at 50% 50%, var(--accent-gold), rgba(255, 196, 0, 0.7));
            border-radius: 45% 45% 30% 30%;
            box-shadow: 0 0 15px 5px rgba(255, 196, 0, 0.4);
            animation: lantern-sway 8s ease-in-out infinite;
        }
        
        @keyframes lantern-sway {
            0%, 100% { transform: rotate(-5deg) translateY(-5px); }
            50% { transform: rotate(5deg) translateY(0); }
        }

        /* SECTION: UI Panel */
        #ui-panel {
            position: relative;
            z-index: 10;
            background: var(--ui-bg);
            backdrop-filter: blur(10px);
            border-radius: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            padding: 1.5rem;
            margin: 1rem auto;
            max-width: 95%;
            width: 500px;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            max-height: calc(100vh - 2rem);
            overflow-y: auto;
        }

        .form-section {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .form-section h2 {
            border-bottom: 1px solid var(--accent-gold);
            padding-bottom: 0.5rem;
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 1rem;
        }

        .options-grid label {
            cursor: pointer;
            text-align: center;
            border: 2px solid transparent;
            border-radius: 0.5rem;
            padding: 0.5rem;
            transition: all 0.2s ease-in-out;
            background: rgba(255,255,255,0.05);
        }

        .options-grid img {
            width: 100%;
            height: auto;
            border-radius: 0.25rem;
            object-fit: cover;
            aspect-ratio: 150/80;
        }

        .options-grid span {
            display: block;
            margin-top: 0.25rem;
            font-size: 0.9rem;
        }
        
        .options-grid input[type="radio"] {
            display: none;
        }

        .options-grid input[type="radio"]:checked + label {
            border-color: var(--accent-gold);
            box-shadow: 0 0 10px var(--accent-gold);
            transform: scale(1.05);
        }
        
        textarea, input[type="text"] {
            width: 100%;
            padding: 0.75rem;
            border-radius: 0.5rem;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(0,0,0,0.2);
            color: var(--text-light);
            font-family: var(--font-main);
            font-size: 1rem;
            resize: none;
        }

        textarea:focus, input[type="text"]:focus {
            outline: none;
            border-color: var(--accent-gold);
            box-shadow: 0 0 5px var(--accent-gold);
        }

        .button-group {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        button {
            flex-grow: 1;
            padding: 0.75rem 1rem;
            font-size: 1.1rem;
            font-family: var(--font-main);
            font-weight: 700;
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            color: var(--text-dark);
            background: var(--accent-gold);
            text-shadow: 0 1px 1px rgba(0,0,0,0.1);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 223, 133, 0.4);
        }
        
        button:disabled {
            background-color: #7a7a7a;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        #reset-button {
            background: #c74242;
            color: var(--text-light);
        }
        
        #reset-button:hover {
             box-shadow: 0 4px 15px rgba(199, 66, 66, 0.4);
        }

        /* SECTION: Preview Area & Krathong Styling */
        #preview-container {
            position: relative;
            width: 200px;
            height: 120px;
            margin: 0 auto;
            transform-style: preserve-3d;
            transform: rotateX(50deg) rotateZ(-10deg) scale(0.9);
            transition: transform 0.3s ease;
        }
        #preview-container:hover {
            transform: rotateX(45deg) rotateZ(0) scale(1);
        }
        
        .krathong {
            position: absolute;
            width: 200px;
            height: 120px;
            display: flex;
            justify-content: center;
            align-items: center;
            transform-style: preserve-3d;
            will-change: transform, opacity;
        }

        .krathong-base {
            width: 100%;
            height: auto;
            position: absolute;
            bottom: 20px;
            filter: drop-shadow(0 10px 5px rgba(0,0,0,0.4));
        }

        .candle {
            position: absolute;
            width: 20px;
            height: 35px;
            background: linear-gradient(#fff, #eee);
            border-radius: 2px 2px 0 0;
            bottom: 60px;
            transform: translateY(-50%);
        }

        .candle::before { /* Wick */
            content: '';
            position: absolute;
            top: -2px;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 4px;
            background: #333;
        }

        .candle::after { /* Flame */
            content: '';
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 18px;
            background: var(--accent-gold);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            box-shadow: 0 0 10px 5px rgba(255, 196, 0, 0.7);
            animation: flicker 1.5s ease-in-out infinite;
        }
        
        .krathong-glow {
            position: absolute;
            width: 80px;
            height: 80px;
            bottom: 40px;
            background: radial-gradient(circle, rgba(255, 196, 0, 0.5) 0%, rgba(255, 196, 0, 0) 70%);
            border-radius: 50%;
            animation: glow-pulse 2s ease-in-out infinite;
            transform: translateY(-50%);
        }

        .krathong-text-container {
            position: absolute;
            bottom: 60px;
            width: 120px;
            padding: 5px;
            background: rgba(255, 255, 255, 0.9);
            color: var(--text-dark);
            border-radius: 4px;
            text-align: center;
            font-size: 10px;
            line-height: 1.3;
            transform: translateZ(10px);
            pointer-events: none;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        
        .krathong-wish {
            font-weight: bold;
        }
        
        .krathong-name {
            font-size: 9px;
            margin-top: 2px;
            opacity: 0.8;
        }

        /* SECTION: Animator (Floating Keyframes) */
        @keyframes flicker {
            0%, 100% { transform: translateX(-50%) scale(1, 1); opacity: 1; }
            50% { transform: translateX(-45%) scale(0.95, 1.05); opacity: 0.9; }
        }
        
        @keyframes glow-pulse {
            0%, 100% { transform: translateY(-50%) scale(1); opacity: 0.7; }
            50% { transform: translateY(-50%) scale(1.1); opacity: 1; }
        }

        .floating-krathong {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform-origin: bottom center;
            animation-fill-mode: forwards;
            animation-timing-function: ease-in;
        }
        
        @keyframes float-center {
            0% { transform: translateX(-50%) translateY(0) scale(1); opacity: 1; }
            100% { transform: translateX(-50%) translateY(-100vh) scale(0.1); opacity: 0.5; }
        }
        
        @keyframes float-left {
            0% { transform: translateX(-50%) translateY(0) rotateZ(0) scale(1); opacity: 1; }
            100% { transform: translateX(-200%) translateY(-90vh) rotateZ(-25deg) scale(0.1); opacity: 0.5; }
        }

        @keyframes float-right {
            0% { transform: translateX(-50%) translateY(0) rotateZ(0) scale(1); opacity: 1; }
            100% { transform: translateX(100%) translateY(-90vh) rotateZ(25deg) scale(0.1); opacity: 0.5; }
        }
        
        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }
        
        /* Responsive */
        @media (max-height: 700px), (max-width: 500px) {
             #ui-panel {
                margin: 0.5rem auto;
                padding: 1rem;
                max-height: calc(100vh - 1rem);
             }
            .form-section h2 { font-size: 1.1rem; }
            button { font-size: 1rem; padding: 0.6rem; }
            #preview-container { display: none; }
        }

    </style>
</head>
<body>

    <div id="pond">
        <div class="pond-decorations"></div>
    </div>

    <main id="ui-panel" role="form" aria-labelledby="form-title">
        <h1 id="form-title" style="text-align: center;">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏£‡∏∞‡∏ó‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h1>

        <!-- SECTION: Preview -->
        <div id="preview-container">
            <!-- Krathong preview will be rendered here by JS -->
        </div>

        <!-- SECTION: UI Controls -->
        <div class="form-section">
            <h2 id="base-label">1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ê‡∏≤‡∏ô‡∏Å‡∏£‡∏∞‡∏ó‡∏á</h2>
            <div class="options-grid" role="radiogroup" aria-labelledby="base-label">
                <!-- Base options will be rendered here by JS -->
            </div>
        </div>

        <div class="form-section">
            <h2>2. ‡πÉ‡∏™‡πà‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏©‡∏ê‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏ä‡∏∑‡πà‡∏≠</h2>
            <label for="wish-input" class="sr-only">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏©‡∏ê‡∏≤‡∏ô (‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 2 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î)</label>
            <textarea id="wish-input" rows="2" placeholder="‡πÉ‡∏™‡πà‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏©‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..."></textarea>
            
            <label for="name-input" class="sr-only">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏•‡∏≠‡∏¢‡∏Å‡∏£‡∏∞‡∏ó‡∏á</label>
            <input type="text" id="name-input" placeholder="‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì">
        </div>

        <div class="button-group">
            <button id="launch-button">‡∏•‡∏≠‡∏¢‡∏Å‡∏£‡∏∞‡∏ó‡∏á</button>
            <button id="reset-button">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏™‡∏£‡∏∞‡∏ô‡πâ‡∏≥</button>
        </div>
    </main>

    <div id="status-announcer" class="sr-only" aria-live="polite" aria-atomic="true"></div>
    
    <!-- SVG Filters for Water -->
    <svg style="display:none">
        <filter id="water-ripple">
            <feTurbulence type="fractalNoise" baseFrequency="0.01 0.03" numOctaves="3" seed="2" stitchTiles="stitch"/>
            <feDisplacementMap in="SourceGraphic" in2="noise" scale="10" xChannelSelector="R" yChannelSelector="G"/>
        </filter>
    </svg>

    <script>
    (function() {
        'use strict';

        // SECTION: State Management
        const state = {
            selectedBase: 'base1',
            wishText: '',
            nameText: '',
            krathongQueue: [],
            isQueueRunning: false,
        };

        const config = {
            bases: [
                { id: 'base1', name: '‡∏ê‡∏≤‡∏ô‡∏Å‡∏≤‡∏ö‡∏Å‡∏•‡πâ‡∏ß‡∏¢', url: 'https://placehold.co/200x100/8B4513/FFFFFF?text=‡∏Å‡∏≤‡∏ö‡∏Å‡∏•‡πâ‡∏ß‡∏¢' },
                { id: 'base2', name: '‡∏ê‡∏≤‡∏ô‡πÉ‡∏ö‡∏ï‡∏≠‡∏á', url: 'https://placehold.co/200x100/228B22/FFFFFF?text=‡πÉ‡∏ö‡∏ï‡∏≠‡∏á' },
                { id: 'base3', name: '‡∏ê‡∏≤‡∏ô‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á', url: 'https://placehold.co/200x100/D2B48C/000000?text=‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á' },
                { id: 'base4', name: '‡∏ê‡∏≤‡∏ô‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á', url: 'https://placehold.co/200x100/E6E6FA/000000?text=‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á' },
            ]
        };

        // SECTION: DOM Element Selectors
        const dom = {
            pond: document.getElementById('pond'),
            previewContainer: document.getElementById('preview-container'),
            baseOptionsContainer: document.querySelector('.options-grid'),
            wishInput: document.getElementById('wish-input'),
            nameInput: document.getElementById('name-input'),
            launchButton: document.getElementById('launch-button'),
            resetButton: document.getElementById('reset-button'),
            statusAnnouncer: document.getElementById('status-announcer'),
        };

        // SECTION: Utility Functions
        const util = {
            getRandomInt: (min, max) => Math.floor(Math.random() * (max - min + 1)) + min,
            sanitizeHTML: (str) => {
                const temp = document.createElement('div');
                temp.textContent = str;
                return temp.innerHTML;
            },
            limitTextLines: (text, maxLines) => {
                return text.split('\n').slice(0, maxLines).join('\n');
            }
        };

        // SECTION: Preview Renderer
        const preview = {
            renderKrathong: (container, base, wish, name) => {
                const cleanWish = util.sanitizeHTML(wish);
                const cleanName = util.sanitizeHTML(name);

                container.innerHTML = `
                    <div class="krathong">
                        <div class="krathong-glow"></div>
                        <div class="candle"></div>
                        <img src="${base}" class="krathong-base" alt="‡∏ê‡∏≤‡∏ô‡∏Å‡∏£‡∏∞‡∏ó‡∏á">
                        ${(cleanWish || cleanName) ? `
                        <div class="krathong-text-container">
                            ${cleanWish ? `<div class="krathong-wish">${cleanWish.replace(/\n/g, '<br>')}</div>` : ''}
                            ${cleanName ? `<div class="krathong-name">- ${cleanName} -</div>` : ''}
                        </div>
                        ` : ''}
                    </div>
                `;
            },
            update: () => {
                const selectedBaseUrl = config.bases.find(b => b.id === state.selectedBase)?.url || config.bases[0].url;
                preview.renderKrathong(dom.previewContainer, selectedBaseUrl, state.wishText, state.nameText);
                preview.validateInputs();
            },
            validateInputs: () => {
                const hasText = state.wishText.trim() !== '' || state.nameText.trim() !== '';
                dom.launchButton.disabled = !hasText;
            }
        };

        // SECTION: Animator
        const animator = {
            launch: (krathongData) => {
                const krathongEl = document.createElement('div');
                krathongEl.className = 'floating-krathong';
                
                // Create internal structure
                const selectedBaseUrl = config.bases.find(b => b.id === krathongData.base)?.url;
                preview.renderKrathong(krathongEl, selectedBaseUrl, krathongData.wish, krathongData.name);
                
                // Randomize animation
                const animations = ['float-center', 'float-left', 'float-right'];
                const randomAnimation = animations[util.getRandomInt(0, 2)];
                const randomDuration = util.getRandomInt(20, 25);
                const randomStartOffset = util.getRandomInt(-5, 5);
                
                krathongEl.style.animationName = randomAnimation;
                krathongEl.style.animationDuration = `${randomDuration}s`;
                krathongEl.style.left = `calc(50% + ${randomStartOffset}vw)`;
                
                dom.pond.appendChild(krathongEl);
                
                dom.statusAnnouncer.textContent = `‡∏Å‡∏£‡∏∞‡∏ó‡∏á‡∏Ç‡∏≠‡∏á ${util.sanitizeHTML(krathongData.name) || '‡∏ó‡πà‡∏≤‡∏ô'} ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏•‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`;

                krathongEl.addEventListener('animationend', () => {
                    krathongEl.remove();
                }, { once: true });
            }
        };
        
        // SECTION: Queue Manager
        const queueManager = {
            process: () => {
                if (state.krathongQueue.length === 0) {
                    state.isQueueRunning = false;
                    return;
                }
                
                state.isQueueRunning = true;
                const krathongToLaunch = state.krathongQueue.shift();
                animator.launch(krathongToLaunch);
                
                const nextLaunchDelay = util.getRandomInt(1000, 3000);
                setTimeout(queueManager.process, nextLaunchDelay);
            },
            start: () => {
                if (!state.isQueueRunning) {
                    queueManager.process();
                }
            }
        };

        // SECTION: Event Handlers
        const handlers = {
            handleBaseSelection: (event) => {
                if (event.target.name === 'krathong-base') {
                    state.selectedBase = event.target.value;
                    preview.update();
                }
            },
            handleWishInput: (event) => {
                const limitedText = util.limitTextLines(event.target.value, 2);
                state.wishText = limitedText;
                if (event.target.value !== limitedText) {
                    event.target.value = limitedText;
                }
                preview.update();
            },
            handleNameInput: (event) => {
                state.nameText = event.target.value;
                preview.update();
            },
            handleLaunchClick: () => {
                const krathongData = {
                    base: state.selectedBase,
                    wish: state.wishText,
                    name: state.nameText
                };
                state.krathongQueue.push(krathongData);
                
                // Announce
                const name = util.sanitizeHTML(state.nameText) || '‡∏Ñ‡∏∏‡∏ì';
                dom.statusAnnouncer.textContent = `‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏£‡∏∞‡∏ó‡∏á‡∏Ç‡∏≠‡∏á ${name} ‡∏•‡∏á‡πÉ‡∏ô‡∏Ñ‡∏¥‡∏ß`;
                
                // Clear inputs for next one
                state.wishText = '';
                state.nameText = '';
                dom.wishInput.value = '';
                dom.nameInput.value = '';
                preview.update();
                dom.wishInput.focus();

                queueManager.start();
            },
            handleResetClick: () => {
                // Clear queue
                state.krathongQueue = [];
                // Clear floating krathongs from DOM
                const floatingKrathongs = dom.pond.querySelectorAll('.floating-krathong');
                floatingKrathongs.forEach(k => k.remove());
                dom.statusAnnouncer.textContent = '‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏™‡∏£‡∏∞‡∏ô‡πâ‡∏≥‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß';
            }
        };

        // SECTION: Initialization
        function init() {
            // Render base options
            let baseHtml = '';
            config.bases.forEach((base, index) => {
                baseHtml += `
                    <div>
                        <input type="radio" id="${base.id}" name="krathong-base" value="${base.id}" ${index === 0 ? 'checked' : ''}>
                        <label for="${base.id}">
                            <img src="${base.url}" alt="${base.name}">
                            <span>${base.name}</span>
                        </label>
                    </div>
                `;
            });
            dom.baseOptionsContainer.innerHTML = baseHtml;

            // Attach event listeners
            dom.baseOptionsContainer.addEventListener('change', handlers.handleBaseSelection);
            dom.wishInput.addEventListener('input', handlers.handleWishInput);
            dom.nameInput.addEventListener('input', handlers.handleNameInput);
            dom.launchButton.addEventListener('click', handlers.handleLaunchClick);
            dom.resetButton.addEventListener('click', handlers.handleResetClick);
            
            // Initial render
            preview.update();
        }

        // Run on load
        document.addEventListener('DOMContentLoaded', init);

    })();
    </script>
</body>
</html>
